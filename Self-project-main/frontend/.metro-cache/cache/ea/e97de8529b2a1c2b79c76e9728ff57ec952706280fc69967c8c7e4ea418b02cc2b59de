{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":26,"index":26}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":27},"end":{"line":2,"column":49,"index":76}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":118},"end":{"line":4,"column":39,"index":157}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const getExpoHost = () => {\n    const constants = Constants.default;\n    const hostUri = constants?.expoConfig?.hostUri || constants?.expoGoConfig?.debuggerHost || constants?.manifest2?.extra?.expoClient?.hostUri || constants?.manifest?.debuggerHost;\n    if (!hostUri || typeof hostUri !== 'string') {\n      return null;\n    }\n    return hostUri.split(':')[0] || null;\n  };\n  const getDefaultApiUrl = () => {\n    if (Platform.default.OS === 'web') {\n      return 'http://localhost:8000';\n    }\n    const expoHost = getExpoHost();\n    if (expoHost) {\n      return `http://${expoHost}:8000`;\n    }\n    if (Platform.default.OS === 'android') {\n      return 'http://10.0.2.2:8000';\n    }\n    return 'http://localhost:8000';\n  };\n\n  //const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL || getDefaultApiUrl();\n\n  const API_URL = \"https://muyassir-backend.onrender.com\";\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Safe localStorage access for web\n  const getWebStorage = () => {\n    if (false && window.localStorage) {\n      return window.localStorage;\n    }\n    return null;\n  };\n\n  // Request interceptor to add auth token\n  api.interceptors.request.use(async config => {\n    let token = null;\n    if (Platform.default.OS === 'web') {\n      const storage = getWebStorage();\n      if (storage) {\n        token = storage.getItem('auth_token');\n      }\n    } else {\n      token = await SecureStore.getItemAsync('auth_token');\n    }\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  }, error => Promise.reject(error));\n\n  // Response interceptor for error handling\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      if (Platform.default.OS === 'web') {\n        const storage = getWebStorage();\n        if (storage) {\n          storage.removeItem('auth_token');\n        }\n      } else {\n        await SecureStore.deleteItemAsync('auth_token');\n      }\n      // Handle token expiration - redirect to login\n    }\n    return Promise.reject(error);\n  });\n  var _default = api;\n});","lineCount":114,"map":[[27,2,97,0,"Object"],[27,8,97,0],[27,9,97,0,"defineProperty"],[27,23,97,0],[27,24,97,0,"exports"],[27,31,97,0],[28,4,97,0,"enumerable"],[28,14,97,0],[29,4,97,0,"get"],[29,7,97,0],[29,18,97,0,"get"],[29,19,97,0],[30,6,97,0],[30,13,97,0,"_default"],[30,21,97,0],[31,4,97,0],[32,2,97,0],[33,2,1,0],[33,6,1,0,"_axios"],[33,12,1,0],[33,15,1,0,"require"],[33,22,1,0],[33,23,1,0,"_dependencyMap"],[33,37,1,0],[34,2,1,0],[34,6,1,0,"axios"],[34,11,1,0],[34,14,1,0,"_interopDefault"],[34,29,1,0],[34,30,1,0,"_axios"],[34,36,1,0],[35,2,2,0],[35,6,2,0,"_expoSecureStore"],[35,22,2,0],[35,25,2,0,"require"],[35,32,2,0],[35,33,2,0,"_dependencyMap"],[35,47,2,0],[36,2,2,0],[36,6,2,0,"SecureStore"],[36,17,2,0],[36,20,2,0,"_interopNamespace"],[36,37,2,0],[36,38,2,0,"_expoSecureStore"],[36,54,2,0],[37,2,2,49],[37,6,2,49,"_reactNativeWebDistExportsPlatform"],[37,40,2,49],[37,43,2,49,"require"],[37,50,2,49],[37,51,2,49,"_dependencyMap"],[37,65,2,49],[38,2,2,49],[38,6,2,49,"Platform"],[38,14,2,49],[38,17,2,49,"_interopDefault"],[38,32,2,49],[38,33,2,49,"_reactNativeWebDistExportsPlatform"],[38,67,2,49],[39,2,4,0],[39,6,4,0,"_expoConstants"],[39,20,4,0],[39,23,4,0,"require"],[39,30,4,0],[39,31,4,0,"_dependencyMap"],[39,45,4,0],[40,2,4,0],[40,6,4,0,"Constants"],[40,15,4,0],[40,18,4,0,"_interopDefault"],[40,33,4,0],[40,34,4,0,"_expoConstants"],[40,48,4,0],[41,2,6,0],[41,8,6,6,"getExpoHost"],[41,19,6,17],[41,22,6,20,"getExpoHost"],[41,23,6,20],[41,28,6,41],[42,4,7,2],[42,10,7,8,"constants"],[42,19,7,17],[42,22,7,20,"Constants"],[42,31,7,29],[42,32,7,29,"default"],[42,39,7,36],[43,4,8,2],[43,10,8,8,"hostUri"],[43,17,8,15],[43,20,9,4,"constants"],[43,29,9,13],[43,31,9,15,"expoConfig"],[43,41,9,25],[43,43,9,27,"hostUri"],[43,50,9,34],[43,54,10,4,"constants"],[43,63,10,13],[43,65,10,15,"expoGoConfig"],[43,77,10,27],[43,79,10,29,"debuggerHost"],[43,91,10,41],[43,95,11,4,"constants"],[43,104,11,13],[43,106,11,15,"manifest2"],[43,115,11,24],[43,117,11,26,"extra"],[43,122,11,31],[43,124,11,33,"expoClient"],[43,134,11,43],[43,136,11,45,"hostUri"],[43,143,11,52],[43,147,12,4,"constants"],[43,156,12,13],[43,158,12,15,"manifest"],[43,166,12,23],[43,168,12,25,"debuggerHost"],[43,180,12,37],[44,4,14,2],[44,8,14,6],[44,9,14,7,"hostUri"],[44,16,14,14],[44,20,14,18],[44,27,14,25,"hostUri"],[44,34,14,32],[44,39,14,37],[44,47,14,45],[44,49,14,47],[45,6,15,4],[45,13,15,11],[45,17,15,15],[46,4,16,2],[47,4,17,2],[47,11,17,9,"hostUri"],[47,18,17,16],[47,19,17,17,"split"],[47,24,17,22],[47,25,17,23],[47,28,17,26],[47,29,17,27],[47,30,17,28],[47,31,17,29],[47,32,17,30],[47,36,17,34],[47,40,17,38],[48,2,18,0],[48,3,18,1],[49,2,20,0],[49,8,20,6,"getDefaultApiUrl"],[49,24,20,22],[49,27,20,25,"getDefaultApiUrl"],[49,28,20,25],[49,33,20,31],[50,4,21,2],[50,8,21,6,"Platform"],[50,16,21,14],[50,17,21,14,"default"],[50,24,21,14],[50,25,21,15,"OS"],[50,27,21,17],[50,32,21,22],[50,37,21,27],[50,39,21,29],[51,6,22,4],[51,13,22,11],[51,36,22,34],[52,4,23,2],[53,4,25,2],[53,10,25,8,"expoHost"],[53,18,25,16],[53,21,25,19,"getExpoHost"],[53,32,25,30],[53,33,25,31],[53,34,25,32],[54,4,26,2],[54,8,26,6,"expoHost"],[54,16,26,14],[54,18,26,16],[55,6,27,4],[55,13,27,11],[55,23,27,21,"expoHost"],[55,31,27,29],[55,38,27,36],[56,4,28,2],[57,4,30,2],[57,8,30,6,"Platform"],[57,16,30,14],[57,17,30,14,"default"],[57,24,30,14],[57,25,30,15,"OS"],[57,27,30,17],[57,32,30,22],[57,41,30,31],[57,43,30,33],[58,6,31,4],[58,13,31,11],[58,35,31,33],[59,4,32,2],[60,4,34,2],[60,11,34,9],[60,34,34,32],[61,2,35,0],[61,3,35,1],[63,2,37,0],[65,2,39,0],[65,8,39,6,"API_URL"],[65,15,39,13],[65,18,39,16],[65,57,39,55],[66,2,41,0],[66,8,41,6,"api"],[66,11,41,9],[66,14,41,12,"axios"],[66,19,41,17],[66,20,41,17,"default"],[66,27,41,17],[66,28,41,18,"create"],[66,34,41,24],[66,35,41,25],[67,4,42,2,"baseURL"],[67,11,42,9],[67,13,42,11],[67,16,42,14,"API_URL"],[67,23,42,21],[67,29,42,27],[68,4,43,2,"headers"],[68,11,43,9],[68,13,43,11],[69,6,44,4],[69,20,44,18],[69,22,44,20],[70,4,45,2],[71,2,46,0],[71,3,46,1],[71,4,46,2],[73,2,48,0],[74,2,49,0],[74,8,49,6,"getWebStorage"],[74,21,49,19],[74,24,49,22,"getWebStorage"],[74,25,49,22],[74,30,49,28],[75,4,50,2],[75,8,50,6],[75,17,50,39,"window"],[75,23,50,45],[75,24,50,46,"localStorage"],[75,36,50,58],[75,38,50,60],[76,6,51,4],[76,13,51,11,"window"],[76,19,51,17],[76,20,51,18,"localStorage"],[76,32,51,30],[77,4,52,2],[78,4,53,2],[78,11,53,9],[78,15,53,13],[79,2,54,0],[79,3,54,1],[81,2,56,0],[82,2,57,0,"api"],[82,5,57,3],[82,6,57,4,"interceptors"],[82,18,57,16],[82,19,57,17,"request"],[82,26,57,24],[82,27,57,25,"use"],[82,30,57,28],[82,31,58,2],[82,37,58,9,"config"],[82,43,58,15],[82,47,58,20],[83,4,59,4],[83,8,59,8,"token"],[83,13,59,13],[83,16,59,16],[83,20,59,20],[84,4,61,4],[84,8,61,8,"Platform"],[84,16,61,16],[84,17,61,16,"default"],[84,24,61,16],[84,25,61,17,"OS"],[84,27,61,19],[84,32,61,24],[84,37,61,29],[84,39,61,31],[85,6,62,6],[85,12,62,12,"storage"],[85,19,62,19],[85,22,62,22,"getWebStorage"],[85,35,62,35],[85,36,62,36],[85,37,62,37],[86,6,63,6],[86,10,63,10,"storage"],[86,17,63,17],[86,19,63,19],[87,8,64,8,"token"],[87,13,64,13],[87,16,64,16,"storage"],[87,23,64,23],[87,24,64,24,"getItem"],[87,31,64,31],[87,32,64,32],[87,44,64,44],[87,45,64,45],[88,6,65,6],[89,4,66,4],[89,5,66,5],[89,11,66,11],[90,6,67,6,"token"],[90,11,67,11],[90,14,67,14],[90,20,67,20,"SecureStore"],[90,31,67,31],[90,32,67,32,"getItemAsync"],[90,44,67,44],[90,45,67,45],[90,57,67,57],[90,58,67,58],[91,4,68,4],[92,4,70,4],[92,8,70,8,"token"],[92,13,70,13],[92,15,70,15],[93,6,71,6,"config"],[93,12,71,12],[93,13,71,13,"headers"],[93,20,71,20],[93,21,71,21,"Authorization"],[93,34,71,34],[93,37,71,37],[93,47,71,47,"token"],[93,52,71,52],[93,54,71,54],[94,4,72,4],[95,4,73,4],[95,11,73,11,"config"],[95,17,73,17],[96,2,74,2],[96,3,74,3],[96,5,75,3,"error"],[96,10,75,8],[96,14,75,13,"Promise"],[96,21,75,20],[96,22,75,21,"reject"],[96,28,75,27],[96,29,75,28,"error"],[96,34,75,33],[96,35,76,0],[96,36,76,1],[98,2,78,0],[99,2,79,0,"api"],[99,5,79,3],[99,6,79,4,"interceptors"],[99,18,79,16],[99,19,79,17,"response"],[99,27,79,25],[99,28,79,26,"use"],[99,31,79,29],[99,32,80,3,"response"],[99,40,80,11],[99,44,80,16,"response"],[99,52,80,24],[99,54,81,2],[99,60,81,9,"error"],[99,65,81,14],[99,69,81,19],[100,4,82,4],[100,8,82,8,"error"],[100,13,82,13],[100,14,82,14,"response"],[100,22,82,22],[100,24,82,24,"status"],[100,30,82,30],[100,35,82,35],[100,38,82,38],[100,40,82,40],[101,6,83,6],[101,10,83,10,"Platform"],[101,18,83,18],[101,19,83,18,"default"],[101,26,83,18],[101,27,83,19,"OS"],[101,29,83,21],[101,34,83,26],[101,39,83,31],[101,41,83,33],[102,8,84,8],[102,14,84,14,"storage"],[102,21,84,21],[102,24,84,24,"getWebStorage"],[102,37,84,37],[102,38,84,38],[102,39,84,39],[103,8,85,8],[103,12,85,12,"storage"],[103,19,85,19],[103,21,85,21],[104,10,86,10,"storage"],[104,17,86,17],[104,18,86,18,"removeItem"],[104,28,86,28],[104,29,86,29],[104,41,86,41],[104,42,86,42],[105,8,87,8],[106,6,88,6],[106,7,88,7],[106,13,88,13],[107,8,89,8],[107,14,89,14,"SecureStore"],[107,25,89,25],[107,26,89,26,"deleteItemAsync"],[107,41,89,41],[107,42,89,42],[107,54,89,54],[107,55,89,55],[108,6,90,6],[109,6,91,6],[110,4,92,4],[111,4,93,4],[111,11,93,11,"Promise"],[111,18,93,18],[111,19,93,19,"reject"],[111,25,93,25],[111,26,93,26,"error"],[111,31,93,31],[111,32,93,32],[112,2,94,2],[112,3,95,0],[112,4,95,1],[113,2,97,0],[113,6,97,0,"_default"],[113,14,97,0],[113,17,97,15,"api"],[113,20,97,18],[114,0,97,19],[114,3]],"functionMap":{"names":["<global>","getExpoHost","getDefaultApiUrl","getWebStorage","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1"],"mappings":"AAA;oBCK;CDY;yBEE;CFe;sBGc;CHK;EII;GJgB;EKC,gCL;EMK,sBN;EOC;GPa"},"hasCjsExports":false},"type":"js/module"}]}